# Re-creating the project files after environment reset

import os

# Define the project directory path
project_path = "/mnt/data/MyColorApp"
os.makedirs(project_path, exist_ok=True)

# 1. ViewController.swift content
view_controller_content = """\
import UIKit

class ViewController: UIViewController {
    @IBOutlet weak var colorView: UIView!
    @IBOutlet weak var redSlider: UISlider!
    @IBOutlet weak var greenSlider: UISlider!
    @IBOutlet weak var blueSlider: UISlider!

    override func viewDidLoad() {
        super.viewDidLoad()
        updateColorView()
    }

    @IBAction func sliderValueChanged(_ sender: UISlider) {
        updateColorView()
    }

    func updateColorView() {
        let red = CGFloat(redSlider.value)
        let green = CGFloat(greenSlider.value)
        let blue = CGFloat(blueSlider.value)
        colorView.backgroundColor = UIColor(red: red, green: green, blue: blue, alpha: 1.0)
    }
}
"""

# 2. codemagic.yaml content
codemagic_yaml_content = """\
workflows:
  ios-workflow:
    name: iOS Workflow
    environment:
      xcode: latest
    scripts:
      - name: Install dependencies
        script: |
          pod install
    publishing:
      app_store_connect:
        auth: integration
        submit_to_testflight: true
        submit_to_app_store: true
"""

# 3. Podfile content
podfile_content = """\
platform :ios, '13.0'

target 'MyColorApp' do
  use_frameworks!
end
"""

# 4. README.md content
readme_content = """\
# MyColorApp

Это приложение для изменения цвета фона экрана с помощью RGB-слайдеров.

## Установка

1. Установите CocoaPods: `sudo gem install cocoapods`
2. Перейдите в каталог проекта и выполните: `pod install`
3. Откройте `MyColorApp.xcworkspace` в Xcode.

## Запуск

После установки зависимостей, запустите приложение через Xcode.
"""

# Write content to respective files
with open(os.path.join(project_path, "ViewController.swift"), "w") as f:
    f.write(view_controller_content)

with open(os.path.join(project_path, "codemagic.yaml"), "w") as f:
    f.write(codemagic_yaml_content)

with open(os.path.join(project_path, "Podfile"), "w") as f:
    f.write(podfile_content)

with open(os.path.join(project_path, "README.md"), "w") as f:
    f.write(readme_content)

# Return the path for downloading
project_path

